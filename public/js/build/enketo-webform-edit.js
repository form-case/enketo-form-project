import{b as m,c as o,d as l,g as r,i,m as s}from"./chunks/chunk-D4DCCSZW.js";import{m as c,n}from"./chunks/chunk-Q3Q473PS.js";import"./chunks/chunk-3RPRB7E5.js";var d=document.querySelector(".main-loader"),h=document.querySelector(".main > .paper > .form-header"),f={enketoId:n.enketoId,instanceId:n.instanceId},g=document.createRange();m(f).then(t=>Promise.all([i.getFormParts(t),i.getExistingInstance(t)])).then(t=>{let e=t[0];if(e.instance=t[1].instance,e.instanceAttachments=t[1].instanceAttachments,e.form&&e.model&&e.instance)return r.swapTheme(e);throw new Error(o("error.unknown"))}).then(i.getMaximumSubmissionSize).then(S).then(x).catch(w);function S(t){return t.maxSize&&(n.maxSize=t.maxSize),t}function w(t){d.classList.add("fail"),t.status===401?window.location.href=`${n.loginUrl}?return_url=${encodeURIComponent(window.location.href)}`:(Array.isArray(t)||(t=[t.message||o("error.unknown")]),r.alertLoadErrors(t,o("alert.loaderror.editadvice")))}function x(t){let e=g.createContextualFragment(t.form);h.after(e);let a=document.querySelector("form.or");return s.init(a,{modelStr:t.model,instanceStr:t.instance,external:t.externalData,instanceAttachments:t.instanceAttachments,isEditing:!0,survey:t}).then(u=>{t.languages=u.languages,document.querySelector("head>title").textContent=c.getTitleFromFormStr(t.form),l(a)})}
//# sourceMappingURL=enketo-webform-edit.js.map
